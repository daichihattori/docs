# CTFdについて
IsecCTFに用いているCTFdについての説明をしるす．CTFdとはCTFの主催に必要なウェブページをdockerを用いて非常に簡単に作成するものである．

## 注意
現時点でボリュームの永続化は行っていないため，（当然ではあるが）コンテナを削除してしまうとCTFの問題や履歴は消えてしまう．作業は慎重に行うように．

## 問題の作り方
問題はgithubで管理していた．各問を参照して作成．原則サーバーを使う場合は(netcatなど)，dockerで攻撃される仮想環境を作成し，それに対して攻撃をおこなうようにする．

## ドメイン発行
ドメインはfreenomで発行を行った，（作業に手間取ったため多少料金はかかるがaws上で発行したほうがよいと思われる）

## HTTPS化
前提
インスタンスは作ってある。そのインスタンスのグローバルipにhttp接続するとホームページが見える。elastic ip（静的ip）を導入している

1. freenomでドメイン発行
2. Route53でサブドメインを作成,freenomへ登録
3. ACMからの証明書発行
4. ALB作成
<- freenom使うのやめてaws上でドメイン発行した方がいいと思う．

参考ページ
https://recipe.kc-cloud.jp/archives/11084
<-ほとんどこれ
https://blog.serverworks.co.jp/delegate-route53
<-freenomドメインの委任のみ参考

## 岡山大学学生にのみ公開する方法
まず，登録画面にパスワード認証をかけそのパスワードを岡山大学生にしか周知しなかった．さらに，メールアドレスを用いたアカウント登録をしないと，問題が閲覧できないように設定した．参加者には，大学限定アドレスで参加者登録してもらい，手動で大学限定アドレス以外で参加者登録したものをバンする形にした．（岡山大学アドレス以外で参加した方はいなかった）
